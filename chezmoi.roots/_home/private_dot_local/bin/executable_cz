#! /usr/bin/env bash

set -euo pipefail

is_cmd() { type -p -- "${@}" 2> /dev/null 1> /dev/null; }

__cz_apply() {  ${CZA:-env} chezmoi apply  "${1---less-interactive}" "${@:2}"; }
__cz_re-add() { ${CZA:-env} chezmoi re-add "${1---less-interactive}" "${@:2}"; }

${SET_X:-:} -x

if declare -f "__cz_${1}" > /dev/null; then
    __cz_${1} "${@:2}"
elif is_cmd "cz-$1"; then
    cz-$1 "${@:2}"
elif is_cmd "chezmoi-$1"; then
    chezmoi-$1 "${@:2}"
else
    env chezmoi "${@}"
fi

${SET_X:-:} +x

# vim: set ft=sh sw=4 sts=4 et:

