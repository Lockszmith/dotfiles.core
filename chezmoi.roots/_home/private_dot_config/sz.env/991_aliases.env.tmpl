#!/usr/bin/env -S bash -c 'echo "Not a user script. source(aka .) only"'

[[ "$(command -v _ls)" =~ alias ]] || alias _ls='command ls '
{{- if eq .chezmoi.os "darwin" }}
alias ls='_ls -hF --color=auto '
alias l='ls -la '
alias lold='l -t '
alias lnew='l -tr '
{{ else }}
alias ls='_ls -hF --color=auto --group-directories-first '
alias l='ls -la '
alias lold='l --sort=time '
alias lnew='l --sort=time --reverse '
{{- end }}
alias ll='l -A'
alias lu='l -U '

alias sudo='sudo '
alias sudo='sudo LS_COLORS= '

unalias nvim 2>/dev/null || true
is_cmd nvim \
    && export VISUAL="$(command -v nvim)" \
    || export VISUAL="$(command -v  vim)"

if [ -x "${VISUAL//\/bin//bin/squashfs-root/usr/bin}" ]; then
    export VISUAL="${VISUAL//\/bin//bin/squashfs-root/usr/bin}"
fi
export EDITOR="$VISUAL"

alias nvim="POSTFIX_BUITINS=1 $EDITOR -p "
alias vi='nvim '
alias vim='nvim '
alias nvimdiff='nvim -d '
alias vimdiff='nvimdiff '

if is_cmd git; then
    gitcd() {
        cd "$(git rev-parse --show-toplevel)${1:+/${1}}"
    }
fi

# vim: set ft=sh expandtab tabstop=4 shiftwidth=4:

